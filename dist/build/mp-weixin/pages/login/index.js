"use strict";const e=require("../../common/vendor.js"),i=require("../../api/TestApi.js"),a=require("../../pinia-store/login.js");require("../../utils/request.js");const n=e.defineComponent({__name:"index",setup(n){const t=a.useloginStore(),o=e.ref(),s=e.ref(""),u=async()=>{if(o.value&&""!=s.value){const a=await i.login({id:o.value,passWord:s.value});if(1==a.data){e.index.showToast({title:"登录成功",icon:"success",duration:1e3});let i=o.value;t.login(i),e.index.switchTab({url:"/pages/index/index"})}else 0==a.data?e.index.showToast({title:"密码错误，请重新输入",icon:"none",duration:1e3}):e.index.showToast({title:"此账号未注册",icon:"none",duration:1e3})}else e.index.showToast({title:"请输入账号/密码",icon:"none",duration:1e3})},l=async()=>{if(1==(await i.register({id:o.value,passWord:s.value})).data){e.index.showToast({title:"注册成功",icon:"success",duration:1e3});let i=o.value;t.login(i),e.index.switchTab({url:"/pages/index/index"})}else e.index.showToast({title:"该账号已注册，请直接登录",icon:"none",duration:1e3})};return e.onMounted((()=>{})),(i,a)=>({a:e.t(e.unref(t).userID),b:o.value,c:e.o((e=>o.value=e.detail.value)),d:s.value,e:e.o((e=>s.value=e.detail.value)),f:e.o(u),g:e.o(l)})}}),t=e._export_sfc(n,[["__scopeId","data-v-5bca22a9"]]);wx.createPage(t);
